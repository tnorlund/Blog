/* eslint-disable max-len */
import React from 'react'
import { Spring, animated as a } from 'react-spring'
import { useInView } from 'react-hook-inview'

const dark = false

const fill = `var(--color-text)`
const min_x = 0
const max_x = 1

export default () => {
  // Only show when in view
  const [ref, inView] = useInView( { threshold: 1, } )
  return <div ref={ref} style={ { height: `200pt` } } >
    <Spring to={ { x: inView ?  max_x : min_x } } >
      { ( props ) => (
        <svg width="100%" height="100%" viewBox="0 0 200 100" preserveAspectRatio="XmaxYMax">
          <a.path
            style={ {
              opacity: props.x.to( [min_x, max_x], [0, 1] ).to( x => x ),
              position: `absolute`,
              transformOrigin: `30.14975% 50.2927%`,
              transform: props.x.to( [min_x, max_x], [0, 1] ).to( x => `translate3d(-${62.83185 - ( x * 62.83185 )}%,0, 0) rotate(-${ 90 - ( x * 90 ) }deg)` )
            } }
            fill={fill}
            d="M60.3,30.54a20,20,0,1,0,20,20A20,20,0,0,0,60.3,30.54Zm-6.59,25a3.07,3.07,0,0,0,2.9-1.5l3.33,2.31c-1.23,2.06-3.22,3-6.37,3-5,0-7.81-3.15-7.81-7.91V49.06c0-5.11,2.83-7.84,8.05-7.84,2.7,0,4.9,1,6.13,2.91l-3.36,2.34A3.31,3.31,0,0,0,53.71,45c-2.52,0-3.5,1.54-3.5,4.34v1.82C50.21,53.68,50.87,55.57,53.71,55.57Zm16.55,4.27c-1.57,4.69-3.11,5.85-8,5.85v-4c2.42,0,3.37-.39,4.1-2.42L59.79,41.54h4.69l3.89,11.2,3.5-11.2h4.52Z"
          />
          <a.g
            style={ {
              opacity: props.x.to( [min_x, max_x], [0, 1] )
            } }
          >
            <path fill={fill} d="M97.92,51.44c0,4.55-2.31,7.91-6.82,7.91a5.92,5.92,0,0,1-3.85-1v7.35H82.77V41.54h4.48v1.15a4.92,4.92,0,0,1,3.88-1.47c4.06,0,6.79,2.84,6.79,7.84Zm-4.48-.28V49.34c0-2.8-.87-4.34-3.08-4.34s-3.11,1.4-3.11,4v2.2c0,2.52.59,4.41,3.11,4.41S93.44,53.68,93.44,51.16Z" />
            <path fill={fill} d="M109.75,46.4a2.58,2.58,0,0,0-2.2-1.33c-1.68,0-2.8,1.23-2.8,3.68V59h-4.48V41.54h4.37V43a4.34,4.34,0,0,1,3.82-1.79A5.11,5.11,0,0,1,113.18,44Z" />
            <path fill={fill} d="M127.32,56.38c-1.22,2.13-3.25,3-6.4,3-5.25,0-7.77-3.39-7.77-7.91V49.06c0-5.28,2.66-7.84,7.21-7.84,4.93,0,7.21,2.87,7.21,8.19v2h-10c0,2.41.81,4.16,3.29,4.16a3.14,3.14,0,0,0,3.12-1.5Zm-9.73-8.16h5.5c-.11-2.27-1-3.22-2.7-3.22S117.77,46.23,117.59,48.22Z" />
            <path fill={fill} d="M139.78,46.47a3.79,3.79,0,0,0-3.43-1.4c-1.15,0-2.2.35-2.2,1.37s.94,1.43,2.8,1.71c4.3.67,6.47,2.31,6.47,5.78s-2.34,5.42-6.86,5.42c-3.57,0-5.74-.87-7.24-2.9L132.75,54c.7.94,1.57,1.5,3.74,1.5C138,55.5,139,55,139,54.07c0-1.09-.77-1.44-3-1.79-3.64-.59-6.3-2.13-6.3-5.67,0-3.32,2.38-5.39,6.76-5.39,2.87,0,5.25.67,6.61,2.91Z" />
            <path fill={fill} d="M155.43,46.47a3.79,3.79,0,0,0-3.43-1.4c-1.16,0-2.21.35-2.21,1.37s1,1.43,2.8,1.71c4.31.67,6.48,2.31,6.48,5.78s-2.35,5.42-6.86,5.42c-3.57,0-5.74-.87-7.25-2.9L148.39,54c.7.94,1.58,1.5,3.75,1.5,1.54,0,2.48-.52,2.48-1.43,0-1.09-.77-1.44-3-1.79-3.64-.59-6.3-2.13-6.3-5.67,0-3.32,2.38-5.39,6.75-5.39,2.87,0,5.25.67,6.62,2.91Z" />
          </a.g>
        </svg>
      ) }
    </Spring>
  </div>
}