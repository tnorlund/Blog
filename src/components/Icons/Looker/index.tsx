/* eslint-disable max-len */
import React from 'react'
import { Spring, animated as a } from 'react-spring'
import { useInView } from 'react-hook-inview'
import { setSteps } from '../../utils'

const fill = `var(--color-text)`
const green = `#36a852`
const orange = `#f9bc15`
const red = `#ea4535`
const blue = `#557ebf`
const gray = `var(--color-googleText)`
const min_x = 0
const max_x = 1
const steps = setSteps( min_x, max_x, [1, 1, 1] )

export default () => {
  // Only show when in view
  const [ref, inView] = useInView( { threshold: 1, } )
  return <div ref={ref} style={ { height: `200pt` } } >
    <Spring to={ { x: inView ?  max_x : min_x } } >
      { ( props ) => (
        <svg width="100%" height="100%" viewBox="0 0 200 100" preserveAspectRatio="XmaxYMax">
          <a.path 
            style={{
              position: `absolute`,
              transformOrigin: `18.51745% 33.4954%`,
              transform: props.x.to( [min_x, steps[2].start, steps[2].stop, max_x], [0, 0, 1, 1] ).to( x => `scale(${x}, ${x})`)
            }}
            fill={green} d="M37,30a3.5,3.5,0,0,0-2.9,5.45L35.63,34A1.47,1.47,0,1,1,37,35a1.43,1.43,0,0,1-.46-.07l-1.49,1.49A3.49,3.49,0,1,0,37,30Z" 
          />
          <a.path 
            style={{
              position: `absolute`,
              transformOrigin: `15.08905% 40.187%`,
              transform: props.x.to( [min_x, steps[1].start, steps[1].stop, max_x], [0, 0, 1, 1] ).to( x => `scale(${x}, ${x})`)
            }}
            fill={orange} d="M35.64,40.19a5.48,5.48,0,0,0-1.09-3.28l-1.94,1.94a2.76,2.76,0,0,1-.53,3.35l1.06,2.58A5.47,5.47,0,0,0,35.64,40.19Z" 
          />
          <a.path 
            style={{
              position: `absolute`,
              transformOrigin: `15.08905% 40.187%`,
              transform: props.x.to( [min_x, steps[1].start, steps[1].stop, max_x], [0, 0, 1, 1] ).to( x => `scale(${x}, ${x})`)
            }}
            fill={red} d="M30.23,43h-.06a2.78,2.78,0,1,1,1.53-5.11l1.92-1.92a5.47,5.47,0,1,0-3.45,9.71,5.1,5.1,0,0,0,1.11-.11Z" 
          />
          <a.path 
            style={{
              position: `absolute`,
              transformOrigin: `18.5585% 57.5955%`,
              transform: props.x.to( [min_x, steps[0].start, steps[0].stop, max_x], [0, 0, 1, 1] ).to( x => `scale(${x}, ${x})`)
            }}
            fill={blue} d="M37.11,45.19a12.48,12.48,0,0,0-3.59.53l1.54,3.75a8.38,8.38,0,1,1-3.87,2.2,8.21,8.21,0,0,1,2-1.47l-1.52-3.74a12.39,12.39,0,1,0,5.46-1.27Z" 
          />
          <a.path 
            style={{opacity: props.x.to([min_x, max_x], [0,1])}}
            fill={gray} d="M93.65,44.64a10.1,10.1,0,0,1,3.72,3.9,11.85,11.85,0,0,1,0,10.91,10.1,10.1,0,0,1-3.72,3.9,10.8,10.8,0,0,1-10.75,0h0a10.1,10.1,0,0,1-3.72-3.9,11.83,11.83,0,0,1,0-10.9,10,10,0,0,1,3.72-3.9A10.8,10.8,0,0,1,93.65,44.64Zm22.66,0a10.06,10.06,0,0,1,3.73,3.9,11.85,11.85,0,0,1,0,10.91,10.06,10.06,0,0,1-3.73,3.9,10.78,10.78,0,0,1-10.74,0h0a10,10,0,0,1-3.72-3.9,11.75,11.75,0,0,1,0-10.9,10,10,0,0,1,3.72-3.9A10.78,10.78,0,0,1,116.31,44.64Zm35-1.44a9.75,9.75,0,0,1,5.17,1.33,8.93,8.93,0,0,1,3.37,3.68A11.83,11.83,0,0,1,161,53.6a7.15,7.15,0,0,1-.08,1H144.86a7.89,7.89,0,0,0,1.12,3.9,6.5,6.5,0,0,0,2.52,2.39,6.91,6.91,0,0,0,3.21.8,6.51,6.51,0,0,0,6-3.66l2.86,1.39A10.09,10.09,0,0,1,157,63.33a10.83,10.83,0,0,1-10.67.05,9.64,9.64,0,0,1-3.6-3.84A11.64,11.64,0,0,1,141.48,54a12.12,12.12,0,0,1,1.22-5.39,9.74,9.74,0,0,1,3.46-4A9.22,9.22,0,0,1,151.32,43.2ZM65,35.13V61.45H77.85v3.31H61.52V35.13Zm62.35,0V53.86L137.85,43.2h4.43v.17l-8.85,8.93,8.45,12.31v.15H137.7L131,54.71l-3.61,3.62v6.43h-3.49V35.13Zm47.93,8.52v3.73a6.69,6.69,0,0,0-2.95-.66,4.88,4.88,0,0,0-2.79.87,6.22,6.22,0,0,0-2,2.32,6.62,6.62,0,0,0-.76,3.14V64.76h-3.48V43.21h3.32v4h.16a5.75,5.75,0,0,1,2.38-2.87,6.64,6.64,0,0,1,3.69-1.14A6.1,6.1,0,0,1,175.29,43.65Zm-87,2.61a6.92,6.92,0,0,0-6.11,3.63,9.15,9.15,0,0,0,0,8.2,7,7,0,0,0,9.6,2.68h0a7,7,0,0,0,2.59-2.68,9.07,9.07,0,0,0,0-8.2,6.84,6.84,0,0,0-6.07-3.63Zm22.66,0a6.93,6.93,0,0,0-6.11,3.63,9.15,9.15,0,0,0,0,8.2,7,7,0,0,0,6.11,3.62,6.77,6.77,0,0,0,3.49-.94h0A6.92,6.92,0,0,0,117,58.09a9.07,9.07,0,0,0,0-8.2,6.84,6.84,0,0,0-6.07-3.63Zm36.33,1.54a7.22,7.22,0,0,0-2.19,4h12.38a6.67,6.67,0,0,0-.72-2.55,5.56,5.56,0,0,0-2-2.15,6.2,6.2,0,0,0-3.42-.88A5.8,5.8,0,0,0,147.26,47.8Z" 
          />
        </svg>
      ) }
    </Spring>
  </div>
}