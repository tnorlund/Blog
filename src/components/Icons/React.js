/* eslint-disable max-len */
import React from 'react'
import { Spring, animated } from 'react-spring/renderprops'
import { useInView } from 'react-hook-inview'

const blue = `#4dc8ed`
const min_x = 0
const max_x = 1
const steps = {
  1: { length: 1 },
  2: { length: 4 }
}
const sum = Object.keys( steps ).reduce( ( sum, key ) => sum + parseFloat( steps[key].length || 0 ), 0 )
let start = min_x
Object.keys( steps ).forEach( ( key ) => {
  steps[ key ][`start`] = start
  steps[ key ][`stop`] = start + ( steps[ key ].length / sum )
  start = start + ( steps[ key ].length / sum )
} )

const React_icon = () => {
  // Only show when in view
  const [ref, inView] = useInView( { threshold: 1, } )
  return <div ref={ref} style={ { height: `200pt`, } }>
    <Spring native to={{ x: inView ?  max_x : min_x }}>
      { ( props ) => (
        <svg width="100%" height="100%" viewBox="0 0 200 100" preserveAspectRatio="YMax">
          <animated.path
            style={ {
              opacity: props.x
                .interpolate( { range: [min_x, steps[1].start, steps[1].stop, max_x], output: [0, 0, 1, 1] } )
                .interpolate( x => x ),
            } }
            fill={blue}
            className="cls-1" d="M41.13,55.53a5.59,5.59,0,0,1-5.67-5.66,5.68,5.68,0,0,1,11.36,0A5.59,5.59,0,0,1,41.13,55.53Z"
          />
          <animated.path
            style={ {
              opacity: props.x
                .interpolate( { range: [min_x, steps[2].start, steps[2].stop, max_x], output: [0, 0, 1, 1] } )
                .interpolate( x => x ),
              position: `absolute`,
              transformOrigin: `20.5697% 49.8511%`,
              // rotate: `45`,
              transform: props.x
                .interpolate( { range: [min_x, max_x], output: [0, 1] } )
                .interpolate( x => `rotate(${ 180 * x }deg)` )
            } }
            fill={blue}
            className="cls-1" d="M71.3,46.28A15,15,0,0,0,66,42a29.08,29.08,0,0,0-6-2.39c-.41-.11-.61-.24-.47-.75a26.14,26.14,0,0,0,.87-5.77,16.08,16.08,0,0,0-1.09-7.54,6,6,0,0,0-2.67-3c-.47-.25-1-.32-1.47-.55H52.66c-.46.14-.95.08-1.42.22a21.74,21.74,0,0,0-7,3.79c-1,.72-1.87,1.54-2.77,2.34a.43.43,0,0,1-.71,0,9,9,0,0,0-1.09-1,27.37,27.37,0,0,0-6.82-4.43A10.86,10.86,0,0,0,28.94,22H27.6a6.89,6.89,0,0,0-1.79.33,5.9,5.9,0,0,0-2.54,2.28,11.23,11.23,0,0,0-1.51,5.53,28.63,28.63,0,0,0,.81,8.35c.18.79.18.77-.57,1a27.34,27.34,0,0,0-8.62,4.13c-1.89,1.43-3.48,3.09-3.69,5.63v1.12c.24.21.12.52.2.78a9.12,9.12,0,0,0,3.39,4.74,28.28,28.28,0,0,0,9.2,4.51c.39.12.39.24.31.56a26.24,26.24,0,0,0-.87,5.27,19.79,19.79,0,0,0,.47,6.5,7.57,7.57,0,0,0,2.3,3.84,5.86,5.86,0,0,0,4.77,1.14,15.34,15.34,0,0,0,6.2-2.36A31,31,0,0,0,41,71.28c.19-.17.3-.26.54,0,.78.74,1.59,1.44,2.43,2.11a21,21,0,0,0,7.51,4.13,8.1,8.1,0,0,0,3.82.2,5.73,5.73,0,0,0,4.34-4.15,17.81,17.81,0,0,0,.8-7.64,31.66,31.66,0,0,0-.77-5c-.09-.36,0-.59.37-.71A34.17,34.17,0,0,0,63.39,59a18.6,18.6,0,0,0,7.72-5.32A5.63,5.63,0,0,0,71.3,46.28ZM44,30a26.74,26.74,0,0,1,5.23-3.79,12.76,12.76,0,0,1,3.74-1.43c2.1-.35,3.17.22,4,2.18a12.06,12.06,0,0,1,.81,4.87,30,30,0,0,1-.88,6.6c-.07.25-.07.32-.37.25-1.9-.44-3.83-.72-5.75-1-.68-.09-1.36-.14-2-.22a.67.67,0,0,1-.51-.33,55.75,55.75,0,0,0-4.3-5.41C43.07,30.84,43.05,30.79,44,30ZM28.34,53.23c1.08,2.14,2.34,4.19,3.63,6.29a53.91,53.91,0,0,1-5.38-.86c-.18,0-.36,0-.26-.3.5-1.64,1.11-3.23,1.76-4.81C28.13,53.44,28.16,53.29,28.34,53.23ZM26.6,42.35c-.36-1.05-.34-1,.76-1.24,1.49-.3,3-.57,4.56-.73-1.3,2-2.48,4.09-3.66,6.32C27.62,45.19,27.09,43.77,26.6,42.35Zm5.31,11.76c-.7-1.26-1.38-2.53-2-3.82a.74.74,0,0,1,0-.77,100.6,100.6,0,0,1,5.19-9c.44-.69,1.06-.56,1.6-.59a55.89,55.89,0,0,1,6.47-.12c1.16.08,2.33,0,3.49.2a.69.69,0,0,1,.46.35,75.56,75.56,0,0,1,4,6.58c.46.84.87,1.71,1.33,2.55a.78.78,0,0,1,0,.82,83.16,83.16,0,0,1-5.18,9,1.16,1.16,0,0,1-1,.56c-1.71,0-3.41.23-4.78.12s-2.14,0-3,0a25.3,25.3,0,0,0-2.61-.1c-.24,0-.32-.14-.42-.29Q33.5,56.93,31.91,54.11ZM54.06,53c.72,1.71,1.41,3.38,2,5.1.11.34.07.39-.29.48-1.59.39-3.22.57-4.82.86a3.29,3.29,0,0,1-.55,0C51.71,57.28,52.94,55.19,54.06,53Zm.83-8.38c-.26.69-.55,1.36-.85,2.11-1.17-2.17-2.35-4.28-3.69-6.35,1.55.18,3,.44,4.55.75,1.14.24,1.15.27.77,1.37C55.42,43.2,55.16,43.91,54.89,44.61ZM40.83,33.11c.14-.17.27-.36.53-.1a36.94,36.94,0,0,1,3.39,4.17c-1.82-.17-3.61,0-5.39-.09-.47,0-.92.16-1.38.12-.13,0-.29.06-.37-.07s.09-.21.16-.31C38.72,35.53,39.8,34.34,40.83,33.11ZM24.59,30.37a9.49,9.49,0,0,1,1.09-4.19,2.93,2.93,0,0,1,2.67-1.49,11,11,0,0,1,3.14.78,24.26,24.26,0,0,1,6.92,4.61c.28.26.82.4.76.8s-.49.53-.73.81c-1,1.26-2.14,2.5-3.11,3.82-.37.5-.77,1-1.11,1.52a1.23,1.23,0,0,1-1,.5,52.21,52.21,0,0,0-7.14,1.11c-.3.07-.54.07-.63-.37-.3-1.53-.6-3.06-.75-4.62A22.5,22.5,0,0,1,24.59,30.37ZM23.23,57.83a25.41,25.41,0,0,1-7-3.2,9.28,9.28,0,0,1-3.56-3.71,2.16,2.16,0,0,1-.28-.9,4.15,4.15,0,0,1,1.33-2.77,17.71,17.71,0,0,1,6.57-4.12c1-.4,2-.73,3.09-1,.31-.09.37,0,.43.24a45.89,45.89,0,0,0,2.74,7.1c.28.59,0,1-.23,1.39a62.9,62.9,0,0,0-2.53,6.66C23.68,57.74,23.61,58,23.23,57.83ZM39.1,69.35a27.17,27.17,0,0,1-6.9,4.77,9.43,9.43,0,0,1-4,1c-1.68,0-2.31-.93-2.89-2.35a11.12,11.12,0,0,1-.71-3.84,30.32,30.32,0,0,1,.82-7.23c.06-.3.15-.48.6-.38a42.66,42.66,0,0,0,5.28.84c.75.07,1.5.21,2.26.22a.94.94,0,0,1,.76.5c1.12,1.62,2.38,3.14,3.65,4.65a15.79,15.79,0,0,1,1.21,1.37C39.3,69.1,39.28,69.19,39.1,69.35Zm2.44-2.54c-.2.24-.36.24-.58,0-.94-1.06-1.87-2.13-2.74-3.26a2.36,2.36,0,0,1-.6-.9h7.24c-.63.92-1.35,1.8-2.07,2.68C42.38,65.83,42,66.31,41.54,66.81Zm15.14,6.62a2.9,2.9,0,0,1-3,1.66c-2.39-.14-4.35-1.32-6.27-2.57a23.6,23.6,0,0,1-4-3.31c-.32-.32,0-.45.18-.58.48-.53.94-1.09,1.4-1.64,1.17-1.38,2.24-2.83,3.28-4.31a.74.74,0,0,1,.63-.35c1.35-.11,2.71-.27,4-.49s2.47-.39,3.68-.71c.31-.08.4.14.44.37a35.42,35.42,0,0,1,.7,4.58c0,.59.08,1.18.1,1.77A12.5,12.5,0,0,1,56.68,73.43ZM69,52a13.12,13.12,0,0,1-4.38,3.4,29.13,29.13,0,0,1-5.36,2.22c-.31.09-.43.14-.56-.28a53.34,53.34,0,0,0-2.27-5.81,4.36,4.36,0,0,0-.28-.66c-.64-.75-.33-1.46,0-2.22a50.1,50.1,0,0,0,2.35-6.07c.14-.45.3-.56.78-.41a26.91,26.91,0,0,1,7.49,3.48,8.66,8.66,0,0,1,2.73,2.79,3.25,3.25,0,0,1,.43,1.34A4,4,0,0,1,69,52Z"
          />
          <animated.g
            style={ {
              opacity: props.x
                .interpolate( { range: [min_x, max_x], output: [0, 1] } )
                .interpolate( x => x ),
            } }
          >
            <path fill={blue} className="cls-1" d="M109.73,60.16l-7.07-10.64c-.35-.51-.34-.49.23-.59a7.51,7.51,0,0,0,5.82-4.13,9.19,9.19,0,0,0,.25-7.61,7.78,7.78,0,0,0-7.17-5c-4-.15-7.91,0-11.86,0-.6,0-.69.18-.68.71q0,8.49,0,17c0,3.35,0,6.7,0,10,0,.56.16.69.69.66a16.6,16.6,0,0,1,2.23,0c.53,0,.7-.1.69-.66,0-3.37,0-6.74,0-10.11,0-.4.09-.54.52-.54q2.3,0,4.59,0a.71.71,0,0,1,.67.37c.49.77,1,1.54,1.5,2.32l5.21,8.14c.15.24.27.49.67.48,1.28,0,2.57,0,4,0A3.43,3.43,0,0,0,109.73,60.16Zm-16.35-14c-.46,0-.56-.15-.55-.57,0-1.62,0-3.24,0-4.86s0-3.19,0-4.79c0-.37.06-.53.48-.53,2.53,0,5.07-.08,7.6,0a5,5,0,0,1,4.81,4.13,5.38,5.38,0,0,1-1.24,4.8A5.07,5.07,0,0,1,101.07,46C98.51,46.27,95.94,46.08,93.38,46.16Z"/>
            <path fill={blue} className="cls-1" d="M131.88,46a9.25,9.25,0,0,0-4.93-5.7,10.29,10.29,0,0,0-5.8-.8,9.39,9.39,0,0,0-6.31,3.61A11.57,11.57,0,0,0,112.77,53a9.8,9.8,0,0,0,4,6.22,10.91,10.91,0,0,0,6.19,1.92,13.65,13.65,0,0,0,2.2-.21A10.82,10.82,0,0,0,131,58.21a.43.43,0,0,0,.07-.7c-.34-.44-.69-.87-1-1.33s-.56-.4-.88-.08a7.61,7.61,0,0,1-2.58,1.58,8.07,8.07,0,0,1-5.37.37A7.17,7.17,0,0,1,116,52c-.08-.41,0-.58.52-.58,2.58,0,5.15,0,7.72,0s5.19,0,7.78,0c.4,0,.54-.09.55-.52A14.22,14.22,0,0,0,131.88,46Zm-3,2.91c-2.06,0-4.13,0-6.2,0h-6.09c-.59,0-.68-.08-.56-.69a8.15,8.15,0,0,1,1.55-3.61,6.13,6.13,0,0,1,4.53-2.42,6.45,6.45,0,0,1,7,5.17l.21,1C129.37,48.76,129.31,49,128.86,49Z"/>
            <path fill={blue} className="cls-1" d="M153.71,46.14a7.94,7.94,0,0,0-.1-1.38,6.17,6.17,0,0,0-4.52-4.88,13.68,13.68,0,0,0-5.06-.34,10.36,10.36,0,0,0-6.34,3.09.4.4,0,0,0-.05.58c.38.54.8,1.06,1.14,1.63.23.4.38.27.61,0a7.27,7.27,0,0,1,.79-.78,8,8,0,0,1,6.74-1.61,4,4,0,0,1,3.39,3,20.29,20.29,0,0,1,.11,4.48,7.15,7.15,0,0,0-2.15-1.59,9.94,9.94,0,0,0-6.68-.74,6.53,6.53,0,0,0-4.17,2.9,6.88,6.88,0,0,0-.84,4.91,6.59,6.59,0,0,0,4.89,5.3,9,9,0,0,0,3.62.21,9.13,9.13,0,0,0,3.39-1.1c.69-.39,1.27-.94,2-1.44,0,.56,0,1,0,1.49s.08.67.6.63a15.89,15.89,0,0,1,2.07,0c.46,0,.6-.11.6-.58C153.71,55.37,153.72,50.75,153.71,46.14Zm-3.37,10.09A5.13,5.13,0,0,1,148,58a7.59,7.59,0,0,1-4.82.4,4.28,4.28,0,0,1-2.42-6.79,4.78,4.78,0,0,1,3.69-1.81,7.49,7.49,0,0,1,4.69,1.23,5.92,5.92,0,0,1,1.23,1.17.63.63,0,0,1,.11.47v1.67C150.41,55,150.7,55.72,150.34,56.23Z"/>
            <path fill={blue} className="cls-1" d="M158.86,50.19a10.73,10.73,0,0,1,2-6.71,9.34,9.34,0,0,1,6.66-3.93,11.15,11.15,0,0,1,4.77.33A7.54,7.54,0,0,1,175.82,42c.29.33.8.56.85,1s-.56.57-.84.87a6.61,6.61,0,0,1-1.05,1c-.26.18-.38.12-.54-.09A5.83,5.83,0,0,0,170,42.44a6.7,6.7,0,0,0-5.67,2,7.24,7.24,0,0,0-1.84,3.73,9.19,9.19,0,0,0,.88,6.42A6.35,6.35,0,0,0,168.13,58a6.45,6.45,0,0,0,4.29-.69,7.68,7.68,0,0,0,1.92-1.67c.17-.18.23-.24.41-.06.58.55,1.16,1.1,1.75,1.64.2.17.23.27,0,.52A8.29,8.29,0,0,1,170.8,61c-3.74.45-7.05-.49-9.56-3.47A10.59,10.59,0,0,1,159,52.13,18.14,18.14,0,0,1,158.86,50.19Z"/>
            <path fill={blue} className="cls-1" d="M181.69,50.52c0-2.69,0-4.89,0-7.08,0-.41-.09-.56-.52-.54-.82,0-1.64,0-2.46,0-.29,0-.4-.09-.39-.38,0-.75,0-1.49,0-2.24,0-.32.11-.41.42-.41.8,0,1.6,0,2.4,0,.47,0,.56-.15.55-.57,0-1.51,0-3,0-4.52,0-.38.09-.53.49-.51.79,0,1.57,0,2.35,0,.42,0,.55.1.54.52,0,1.51,0,3,0,4.52,0,.45.12.57.56.56,1,0,2.05,0,3.08,0,.43,0,.54.13.52.54a18.12,18.12,0,0,0,0,1.95c0,.47-.16.55-.58.54-1,0-2.05,0-3.07,0-.39,0-.51.09-.51.49,0,4.19,0,8.38,0,12.57a2.08,2.08,0,0,0,3.06,1.94,2,2,0,0,0,.6-.3c.44-.43.64-.19.8.25s.35,1,.59,1.54a.43.43,0,0,1-.19.61,5.35,5.35,0,0,1-2.71,1,6.62,6.62,0,0,1-2.93-.29,3.71,3.71,0,0,1-2.46-3.3C181.52,55,181.79,52.49,181.69,50.52Z"/>
          </animated.g>
        </svg>
      ) }
    </Spring>
  </div>
}

export default React_icon