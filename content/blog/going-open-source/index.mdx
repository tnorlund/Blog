---
title: Going Open Source
date: "2020-12-05T20:33:29"
slug: /blog/going-open-source
description: "What I think makes a good programmer."
---

I've had my [github](https://github.com/tnorlund) for 3 years now.

I've been programming longer, but I know I could always become a better programmer. The best programmers I know all have side projects and open source repositories. Why not me? 

This website is now open source under the MIT license. Please check out the [repository](https://github.com/tnorlund/Blog) and let me know what you think.

The README has the steps required to reproduce bot the front-end and back-end, but I'll talk about them in detail here.

This website uses Amplify for both the frontend and backend, using Amplify's authentication and api. Here are the steps to recreate the authentication.

```
$ amplify add api
? Please select from one of the below mentioned services: REST
? Provide a friendly name for your resource to be used as a label for this category in the project: blogAPI
? Provide a path (e.g., /book/{isbn}): /
? Choose a Lambda source Create a new Lambda function
? Provide an AWS Lambda function name: blogAPILambda
? Choose the runtime that you want to use: NodeJS
? Choose the function template that you want to use: CRUD function for DynamoDB (Integration with API Gateway)
? Choose a DynamoDB data source option Create a new DynamoDB table

Welcome to the NoSQL DynamoDB database wizard
This wizard asks you a series of questions to help determine how to set up your NoSQL database table.

? Please provide a friendly name for your resource that will be used to label this category in the project: blogDB
? Please provide table name: blogDB

You can now add columns to the table.

? What would you like to name this column: PK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: SK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: GSI1PK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: GSI1SK
? Please choose the data type: string
? Would you like to add another column? No

Before you create the database, you must specify how items in your table are uniquely organized. You do this by specifying a primary key. The primary key uniquely identifies each item in the table so that no two items can have the same key. This can be an individual column, or a combination that includes a primary key and a sort key.

To learn more about primary keys, see:
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.PrimaryKey

? Please choose partition key for the table: PK
? Do you want to add a sort key to your table? Yes
? Please choose sort key for the table: SK

You can optionally add global secondary indexes for this table. These are useful when you run queries defined in a different column than the primary key.
To learn more about indexes, see:
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.SecondaryIndexes

? Do you want to add global secondary indexes to your table? Yes
? Please provide the GSI name: GSI1
? Please choose partition key for the GSI: GSI1PK
? Do you want to add a sort key to your global secondary index? Yes
? Please choose sort key for the GSI: GSI1SK
? Do you want to add more global secondary indexes to your table? No
? Do you want to add a Lambda Trigger for your Table? Yes
? Select from the following options Create a new function
Successfully added resource blogDBTrigger73283b1a locally
Successfully updated resource blogDBTrigger73283b1a locally
? Do you want to edit the local blogDBTrigger73283b1a lambda function now? No
Successfully added DynamoDb table locally

Available advanced settings:
- Resource access permissions
- Scheduled recurring invocation
- Lambda layers configuration

? Do you want to configure advanced settings? No
? Do you want to edit the local lambda function now? No
Successfully added resource blogAPILambda locally.

Next steps:
Check out sample function code generated in <project-dir>/amplify/backend/function/blogAPILambda/src
"amplify function build" builds all of your functions currently in the project
"amplify mock function <functionName>" runs your function locally
"amplify push" builds all of your local backend resources and provisions them in the cloud
"amplify publish" builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud
Succesfully added the Lambda function locally
? Restrict API access Yes
? Restrict access by? Auth/Guest Users
? Who should have access? Authenticated and Guest users
? What kind of access do you want for Authenticated users? create, read, update, delete
? What kind of access do you want for Guest users? read
Successfully added auth resource locally.
? Do you want to add another path? No
```


```
$ amplify add auth
Using service: Cognito, provided by: awscloudformation
 
 The current configured provider is Amazon Cognito. 
 
 Do you want to use the default authentication and security configuration? Manual configuration
 Select the authentication/authorization services that you want to use: User Sign-Up & Sign-In only (Best used with a cloud API only)


 Please provide a friendly name for your resource that will be used to label this category in the project: blogAuth
 Please provide a name for your user pool: blogUserPool
 Warning: you will not be able to edit these selections. 
 How do you want users to be able to sign in? Email
 Do you want to add User Pool Groups? Yes
? Provide a name for your user pool group: User
? Do you want to add another User Pool Group Yes
? Provide a name for your user pool group: Admin
? Do you want to add another User Pool Group No
✔ Sort the user pool groups in order of preference · User, Admin
 Do you want to add an admin queries API? Yes
? Do you want to restrict access to the admin queries API to a specific Group Yes
? Select the group to restrict access with: Admin
 Multifactor authentication (MFA) user login options: OFF
 Email based user registration/forgot password: Enabled (Requires per-user email entry at registration)
 Please specify an email verification subject: Your verification code
 Please specify an email verification message: Your verification code is {####}
 Do you want to override the default password policy for this User Pool? Yes
 Enter the minimum password length for this User Pool: 8
 Select the password character requirements for your userpool: Requires Lowercase, Requires Uppercase, Requires Numbers, Requires Sym
bols
 Warning: you will not be able to edit these selections. 
 What attributes are required for signing up? Email, Name
 Specify the app's refresh token expiration period (in days): 30
 Do you want to specify the user attributes this app can read and write? Yes
 Specify read attributes: Email, Name
 Specify write attributes: 
 Do you want to enable any of the following capabilities? Email Verification Link with Redirect, Add User to Group
 Do you want to use an OAuth flow? No
? Do you want to configure Lambda Triggers for Cognito? Yes
? Which triggers do you want to enable for Cognito Custom Message, Post Confirmation
? What functionality do you want to use for Custom Message Send Account Confirmation Link w/ Redirect
? What functionality do you want to use for Post Confirmation Add User To Group
? Enter the URL that your users will be redirected to upon account confirmation: https://www.tylernorlund.com/
? Enter the subject for your custom account confirmation email: Verify Email
? Enter the body text for your custom account confirmation email (this will appear before the link URL): Use the link to verify your 
email.
Successfully added resource blogAuthCustomMessage locally.

Next steps:
Check out sample function code generated in <project-dir>/amplify/backend/function/blogAuthCustomMessage/src
"amplify function build" builds all of your functions currently in the project
"amplify mock function <functionName>" runs your function locally
"amplify push" builds all of your local backend resources and provisions them in the cloud
"amplify publish" builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud
Successfully added the Lambda function locally
? Do you want to edit your verification-link function now? No
? Enter the name of the group to which users will be added. User
Successfully added resource blogAuthPostConfirmation locally.

Next steps:
Check out sample function code generated in <project-dir>/amplify/backend/function/blogAuthPostConfirmation/src
"amplify function build" builds all of your functions currently in the project
"amplify mock function <functionName>" runs your function locally
"amplify push" builds all of your local backend resources and provisions them in the cloud
"amplify publish" builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud
Successfully added the Lambda function locally
? Do you want to edit your add-to-group function now? No
Successfully added AdminQueriesd967a1c1 function locally
Successfully added AdminQueries API locally
Successfully added auth resource blogAuth locally

Some next steps:
"amplify push" will build all your local backend resources and provision it in the cloud
"amplify publish" will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud

```

The authentication allows users to access the Cognito Identity Pool and create an account. After creating the authorization, you need to create the REST API.

```
$ amplify add api
? Please select from one of the below mentioned services: REST
? Provide a friendly name for your resource to be used as a label for this category in the project: blogAPI
? Provide a path (e.g., /book/{isbn}): /
? Choose a Lambda source Create a new Lambda function
? Provide an AWS Lambda function name: blogAPILambda
? Choose the runtime that you want to use: NodeJS
? Choose the function template that you want to use: CRUD function for DynamoDB (Integration with API Gateway)
? Choose a DynamoDB data source option Create a new DynamoDB table

Welcome to the NoSQL DynamoDB database wizard
This wizard asks you a series of questions to help determine how to set up your NoSQL database table.

? Please provide a friendly name for your resource that will be used to label this category in the project: blogDB
? Please provide table name: blogDB

You can now add columns to the table.

? What would you like to name this column: PK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: SK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: GSI1PK
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: GSI1SK
? Please choose the data type: string
? Would you like to add another column? No

Before you create the database, you must specify how items in your table are uniquely organized. You do this by specifying a primary key. The primary key uniquely identifies each item in the table so that no two items can have the same key. This can be an individual column, or a combination that includes a primary key and a sort key.

To learn more about primary keys, see:
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.PrimaryKey

? Please choose partition key for the table: PK
? Do you want to add a sort key to your table? Yes
? Please choose sort key for the table: SK

You can optionally add global secondary indexes for this table. These are useful when you run queries defined in a different column than the primary key.
To learn more about indexes, see:
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.SecondaryIndexes

? Do you want to add global secondary indexes to your table? Yes
? Please provide the GSI name: GSI1
? Please choose partition key for the GSI: GSI1PK
? Do you want to add a sort key to your global secondary index? Yes
? Please choose sort key for the GSI: GSI1SK
? Do you want to add more global secondary indexes to your table? No
? Do you want to add a Lambda Trigger for your Table? Yes
? Select from the following options Create a new function
Successfully added resource blogDBTrigger03315463 locally
Successfully updated resource blogDBTrigger03315463 locally
? Do you want to edit the local blogDBTrigger03315463 lambda function now? No
Successfully added DynamoDb table locally

Available advanced settings:
- Resource access permissions
- Scheduled recurring invocation
- Lambda layers configuration

? Do you want to configure advanced settings? No
? Do you want to edit the local lambda function now? No
Successfully added resource blogAPILambda locally.

Next steps:
Check out sample function code generated in <project-dir>/amplify/backend/function/blogAPILambda/src
"amplify function build" builds all of your functions currently in the project
"amplify mock function <functionName>" runs your function locally
"amplify push" builds all of your local backend resources and provisions them in the cloud
"amplify publish" builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud
Succesfully added the Lambda function locally
? Restrict API access Yes
? Restrict access by? Auth/Guest Users
? Who should have access? Authenticated and Guest users
? What kind of access do you want for Authenticated users? create, read, update, delete
? What kind of access do you want for Guest users? read
Current auth configuration is: userPoolOnly, but identityPoolAndUserPool was required.
Auth configuration is required to allow unauthenticated users, but it is not configured properly.
Successfully updated auth resource locally.
? Do you want to add another path? No
Successfully added resource blogAPI locally

Some next steps:
"amplify push" will build all your local backend resources and provision it in the cloud
"amplify publish" will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud
```

After pushing these changes to amplify, you should have access to your backend. 